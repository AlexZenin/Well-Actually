/* player - v3.1.6 - master-184 - Wed Aug 02 2017 11:04:29 GMT+1000 (AEST) */
!function(){var e,t,n,o,a,r,i,s,l,c,u,d,p,f,m,v,g,y,h,b,C,I,N,T,E,S,_,A,w,P,D,O,j,L,x,q,M,R,k,H,B,V,U,F,W,G,z,K,Q,J,X,Y,Z,ee,te,ne,oe,ae,re,ie,se,le,ce,ue,de,pe,fe,me,ve,ge,ye,he,be,Ce;!function(Ie,Ne,Te,Ee,Se){e=function(){var e=function(){var e=Ie.location.search.substr(1).split("&");if(""===e)return{};for(var t={},n=0;n<e.length;++n){var o=e[n].split("=",2);1===o.length?t[o[0]]="":t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return t};return e()}(),t=function(){var e={sit:{accountId:"5348771526001",playerId:"ryu7UuNAe"},uat:{accountId:"5348771528001",playerId:"rkewsvuV0e"},prod:{accountId:"5348771529001",playerId:"Bym4SOu4Rx"}};return function(t){t=t&&e[t]?t:"prod";var n=e[t].accountId,o=e[t].playerId,a="//players.brightcove.net/"+n+"/"+o+"_default/index.min.js";return{accountId:n,playerId:o,bcScript:a}}}(),n={settings:{number:20,base_url:"/",client_token:"8000hura0gxy",platform:"newscorp",access_token:"822e774c42fd15000c8ac038e40c64ad47d494aa85cfb6f2ba8d35be756a2264",api_url:"http://api-se.iris.tv"},abGroup:"b",irisTvEnabledSites:["ntnews","themercury"]},o={jsPath:"//tags.news.com.au/prod/heartbeat/VideoHeartbeat.min.js",VISITOR:{MARKETING_CLOUD_ORG_ID:"5FE61C8B533204850A490D4D@AdobeOrg",TRACKING_SERVER:"newscorpau.sc.omtrdc.net"},APP_MEASUREMENT:{RSID:"",TRACKING_SERVER:"newscorpau.sc.omtrdc.net",VISITOR_ID:""},HEARTBEAT:{TRACKING_SERVER:"newscorpau.hb.omtrdc.net",PUBLISHER:"5FE61C8B533204850A490D4D@AdobeOrg"},REPORTINGSUITE:{NEWS:"newscorpau-global",NEWS_DEV:"newslimited-dev",NLM:"newscorpau-nlmglobal",NLM_DEV:"newscorpau-nlmglobal-dev"}},a={playerBrandingId:"486c0d047bbe4823a12ababd8c14f818",pcode:"psd3E6XyIKAqm-nEehdefzUP6tfH"},r={SDK:{apn:"NewsCorpAU Brightcove Player",jsPath:"//cdn-gl.imrworldwide.com/novms/bc/3/ggng510.js"}},i=function(e){var t,n=Ne.getElementsByTagName("script");e||(e=Ee||"player.js");for(var o=n.length-1;o>=0;--o){var a=n[o].src.split("?")[0],r=a.length,i=e.length;a.substr(r-i)===e&&(t=a.substr(0,r-i))}return t},s=function(e,t,n,o,a,r,i){for(var s=function(){for(var e=Ie.location.search.substr(1).split("&"),t={},n=0;n<e.length;n++)if(e[n]){var o=e[n].split("=");t[o[0]]=o[1]}return t}(),l=s.env,c={sit:3207,uat:3207,prod:5591},u={goldcoastbulletin:"couriermail",ntnews:"couriermail",themercury:"heraldsun",townsvillebulletin:"couriermail",weeklytimesnow:"heraldsun"},d=["adelaidenow","cairnspost","couriermail","dailytelegraph","geelongadvertiser","goldcoastbulletin","heraldsun","news","ntnews","perthnow","theaustralian","themercury","townsvillebulletin","weeklytimesnow"],p=["escape"],f=["bestrecipes","bodyandsoul","buro247","carsguide","delicious","gq","homelife","insideout","kidspot","vogue","taste","whimn"],p=p.concat(f),d=d.concat(p),m=["taste","delicious"],v=e.domain||Ie.location.hostname.replace(/(^(www|m|video|w|mobile|extra)\.|\.com(\.au)?$)/gi,""),g="sit"===l||/^sit|sit$/i.test(v)||/^dev.resources/i.test(Ie.location.hostname)||/dev./i.test(Ie.location.hostname),y="uat"===l||/^uat|uat$/i.test(v)||/^uat.resources/i.test(Ie.location.hostname)||/uat./i.test(Ie.location.hostname),v=v.match(/^[\d\.]+$/)||"localhost"===v?"news":v,v=v.replace(/^sit|sit$/i,"").replace(/^\.|\.$/i,""),v=v.replace(/^uat|uat$/i,"").replace(/^\.|\.$/i,""),h=e.debug&&"true"===e.debug,b=e.player&&"dev"===e.player||"goldcoastbulletin"===v,C=f.indexOf(v)!==-1,I=p.indexOf(v)!==-1,N=Ie.location.pathname.replace(/^\/([^\/]*).*$/,"$1"),T=0;T<d.length;T++)if(v.indexOf("."+d[T]+".")>=0){v=d[T];break}d.indexOf(v)<0&&(v="news");var E=m.indexOf(v)!==-1;g&&(n.settings.isSit=!0),n.irisTvEnabledSites.indexOf(v)!==-1&&(n.enabled=!0);var S=g?"sit":y?"uat":"prod",_=t(S);(h||g)&&(_.bcScript=_.bcScript.replace(".min",""));var A={playerData:_,irisTvConfig:n,heartbeatConfig:o,ooyalaConfig:a,nielsenConfig:r,apiKey:{prod:"hmbas9m9untxy94398rw696k",sit:"nbggb6jxgbf3eftej3sfc42a",uat:"nbggb6jxgbf3eftej3sfc42a"},adcmsid:c[S],adOutputType:"xml_vast3",prerollTimeout:4200,maxAttemptsToGetAdsReady:5,hostname:"www."+v+".com.au",domain:v,blockContinuousPlay:E,isSit:g,env:S,vcmLegecyConfig:u,urlParams:e,debug:h,abTestingCookieName:"abtestinggroup",relatedVideoAbGroup:"b",isMobile:/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),IS_IOS:/iPad|iPhone|iPod/i.test(navigator.userAgent),basePath:i(),playerCss:i()+"player_controls.css",devPlayer:b,isNLM:C,isNonMasthead:I,section:N};return A}(e,t,n,o,a,r,i),l=function(e,t){var n="_video_jsonp_"+Math.round(1e5*Math.random()),o=Ne.createElement("script");o.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,o.async=!0,o.onerror=function(){t()},Ie[n]=function(e){Ne.getElementsByTagName("head")[0].removeChild(o);try{delete Ie[n]}catch(e){Ie[n]=Se}t(e)},Ne.getElementsByTagName("head")[0].appendChild(o)},c=function(e,t){return function(n,o){var a,r=e.vcmLegecyConfig[e.domain]||e.domain,i="//video."+r+".com.au/vcmslegacy?cfg="+n.className;t(i,function(e){if(e&&!e.error){var t=e.className.replace("vms-embedCode","vms-embedcode");a=t.match(/vms-embedcode-[^\s]+/i)[0].split("-")[2],n.innerHTML=e.html,n.className=t,n.setAttribute("vms-embedcode",a)}else console.error("Error",e.error||"");o(a)})}}(s,l),u=function(e){var t=e.querySelectorAll(".content-item");if(t.length)for(var n=0;n<t.length;n++){var o=t[n];o&&o.parentNode&&o.parentNode.removeChild(o)}var a=e.querySelector(".heading a");if(a){var r=a.innerText||a.innerHTML,i=a.parentNode;if(i.removeChild(a),i.appendChild(Ne.createTextNode(r)),!e.className.match(/\bvms-embedcode-[^\s]+\b/)&&a.getAttribute("href")){var s=a.getAttribute("href").match(/\/video\/id-(.*?)\//i);s&&(e.className+=" vms vms-embedcode-"+s[1])}}},d=function(e){var t,n={};try{e=JSON.parse(e)}catch(e){return console.error("Cannot parse JSON object of vms playlist"),!1}if(e.collection_id)n.playlistInternal=e.collection_id;else if(e.category){var o=e.category;t=o.match(/^\/?video\/(.*?)\/(collection\/popular-content\/)?(.*?)(24hours|7days|30days)?$/i),t||(t=o.match(/^\/?display\/(.*?)\/(collection\/popular-content\/)?(.*?)(24hours|7days|30days)?$/i),t&&(n.categoryFullString=e.category)),t&&t[1]&&(n.domain=t[1]),t&&t[3]&&(n.category=t[3]),t&&t[4]&&(n.popular=t[4])}return e.pageSize?n.count=parseInt(e.pageSize,10):e.maxRelated&&(n.count=parseInt(e.maxRelated,10)),n.source=e.site||e.originalSource,n.site=e.site,n.disable_play_all=e.disable_play_all||0,n},p=function(e,t,n){var o;o=new XMLHttpRequest,o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=o.responseText,a=n&&n.json===!1?e:JSON.parse(e);t(a)}},o.open("GET",e,!0),o.send()},f=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")},m=function(){function e(t){var n=new Date(t).getTime()/1e3;if(n<=0){if(t.replace&&(t=t.split(/[\:\T\-]|(\.\d+)/),t.length>2)){var o=new Date;return o.setYear(t[0]),o.setMonth(t[1]-1),o.setDate(t[2]),o.setHours(t[3]+parseInt(t[6],10)),o.setMinutes(t[4]),o.setSeconds(t[5]),e(o)}return null}return n}var t=3600,n=86400,o=604800,a=2419200,r=31536e3;return function(i,s){if(!i||i<r)return"";var l=e(i);if(s=e(s||new Date),!l||!s)return"";var c=s-l,u=0,d="";return c<300?"new":(c<t?(u=parseInt(c/t*60,10),d="minute"):c<n?(u=parseInt(c/n*24,10),d="hour"):c<o?(u=parseInt(c/o*7,10),d="day"):c<a?(u=parseInt(c/a*4,10),d="week"):c<r?(u=parseInt(c/r*12,10),d="month"):(u=parseInt(c/r,10),d="year"),u=u||1,u+" "+d+(u>1?"s":"")+" ago")}}(),v=function(e){if(isNaN(e))return e;if(!e)return"";var t,n=e,o=Math.floor(n/3600),a=n%3600,r=Math.floor(a/60),i=parseInt(n%60,10);return i=(i<10?"0":"")+i,o?(r=(r<10?"0":"")+r,t=o+":"+r+":"+i):t=r+":"+i,t},g=function(e,t,n,o,a){var r={prod:"//cdn.newsapi.com.au",sit:"//cdn.newsapi.com.au/sit",uat:"//cdn.newsapi.com.au/uat"};return function(i,s,l,c){s.api_key=e.apiKey[e.env],t(r[e.env]+i+"?"+n(s),function(e){/popular-content/i.test(s.category)&&(e.results=[e.results[0]]);var t=function(e){var t={};if(e){for(var n=0;n<e.length;n++){var o=e[n];o.imageType&&(t[o.imageType.toLowerCase()]=o.link)}return t.hero||t.thumbnail||t.source}},n=function(e){var n=e;n.images&&(n.thumbnail=t(n.images)),n.dateLive&&(n.age=o(n.dateLive)),n.duration&&(n.capiDuration=n.duration/1e3,n.duration=a(n.duration/1e3));for(var r=0;r<n.categories.length;r++)n.categories[r]=n.categories[r].value.replace(/(^\/+|\/+$)/gi,"").split("/").pop();return n},r=function(e){if(!e)return console.error("No results returned",i),{};for(var t=e.results||e.related,o=0;o<t.length;o++){var a=t[o];if("COLLECTION"===a.contentType)return r(a);a.index=o,a=n(a),t[o]=a}return t},u=r(e);l(u,c)})}}(s,p,f,m,v),y=function(){function e(e,i,s){return e=e.replace(o,function(e,o,a,r,s){return n[o](t(r,i),i,s)||""}),e=e.replace(a,function(e,o,a,r,s){return n[o](t(r,i),i,s)||""}),e=e.replace(r,function(e,n){return t(n,i,s)||""})}function t(e,n,o){var a=e.split("."),r=a.shift();return r?n===Se?"":(r.match(/^\d+$/)?n=n[parseInt(r,10)]:"$index"===r?n=o:"$value"!==r&&(n=n[r]),t(a.join("."),n)):n||""}var n={each:function(t,n,o){var a="";if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&(a+=e(o,t[r],r));return a}},o=/\{\{([^\s]+?)([0-9]?)\s(.*?)\}\}([\s\S]*?)\{\{\/\1\2\}\}/gi,a=/\{\{([a-z]+?)([0-9]?)\!(.*?)\}\}/gi,r=/\{\{([^\s]+?)\}\}/gi;return function(t,n){n=n||{};var o=Ne.createDocumentFragment(),a=Ne.createElement("div");for(a.innerHTML=e(t,n);a.childNodes.length;)o.appendChild(a.childNodes[0]);return o}}(),h={load:function(e){throw new Error("Dynamic load not allowed: "+e)}},b='<div class="vms-playlist vms-list-line vms-thumbnail">\n\t\n</div>',C='<button class="vms-button vms-list-prev icon-chevron-left vms-icon theme-background-color"></button>\n<div class="vms-list">\n</div>\n<a class="vms-more" href="javascript:void(0);">More</a>\n<button class="vms-button vms-list-next icon-chevron-right vms-icon theme-background-color"></button>',I='<div class="module vms-list-item vms-embedcode-{{ooyalaId}}" vms-embedCode="{{ooyalaId}}" index="{{index}}">\r\n\t<div class="module-header vms-header">\r\n\t\t<h3 class="heading">{{title}}\r\n\t\t\t<span class="time">{{duration}}</span>\r\n\t\t</h3>\r\n\t</div>\r\n\r\n\t<div class="module-content">\r\n\t\t<div class="poster">\r\n\t\t\t<img alt="{{title}}" src="{{thumbnail}}"/>\r\n\t\t</div>\r\n\t\t<div class="description">\r\n\t\t\t<p>{{description}}</p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="module-footer vms-footer">\r\n\t\t<ul class="info">\r\n\t\t\t<li class="source">{{originalSource}}</li>\r\n            <li class="subsource">{{originalSource}}</li>\r\n            <li class="date">{{date}}</li>\r\n            <li class="parentcategory">{{categories.0}}</li>\r\n\t\t\t<li class="age">{{age}}</li>\r\n\t\t\t<li class="category">\r\n\t\t\t\t{{each categories}}\r\n\t\t\t\t\t<span class="cat-{{$index}}">{{$value}}</span>\r\n\t\t\t\t{{/each}}\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n\r\n</div>',N=function(){var e=[];return e.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}}(),T=function(){var e="ontouchstart"in Ie||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;return Ne.documentElement.className+=" "+(e?"":"no-")+"touch",e}(),E=function(e,t){function n(t,n,o){for(var a=(t||"").split(r),i=n.split(r),s=0;s<i.length;s++){var l=e(a,i[s]);!o&&l===-1&&i[s]?a.push(i[s]):(!i[s]||o&&l>-1)&&a.splice(l,1)}return a.join(r)}var o,a,r=" ",i=function(){return function(e,t){var o=n(e.className,t);e.className!==o&&(e.className=o)}}(),s=function(){return function(e,t){var o=n(e.className,t,!0);e.className!==o&&(e.className=o)}}(),l=/[\s\,]+/;return Ne.addEventListener?(o=function(e,n,o){t&&"click"===n&&e.getAttribute&&!e.getAttribute("onclick")&&e.setAttribute("onclick","void(0);"),e.addEventListener(n,o)},a=function(e,t,n){e.removeEventListener(t,n)}):(o=function(e,t,n){e.attachEvent("on"+t,function(t){t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),t.stopPropagation||(t.stopPropagation=function(){t.cancelBubble=!0}),t.target||(t.target=t.srcElement),n.call(e,t)})},a=function(e,t,n){e.detachEvent("on"+t,n)}),function(e,t){var n=[];if(t=t||Ne,"string"==typeof e&&(e=t.querySelectorAll(e)),Ie.NodeList&&e instanceof Ie.NodeList||e&&"object"==typeof e&&"length"in e&&!e.tagName&&e!==Ie)for(var r=0;r<e.length;r++)n.push(e[r]);else n.push(e);return n.addClass=function(e){return n.each(function(t){i(t,e)}),n},n.removeClass=function(e){return n.each(function(t){s(t,e)}),n},n.on=function(e,t){return n.each(function(n){for(var a=e.split(l),r=0;r<a.length;r++)o(n,a[r],t)}),n},n.off=function(e,t){return n.each(function(n){for(var o=e.split(l),r=0;r<o.length;r++)a(n,o[r],t)}),n},n.each=function(e){for(var t=0;t<n.length;t++)e.call(n[t],n[t],t)},n.attr=function(e){var t=n[n.length-1];return t.getAttribute(e)},n}}(N,T),S=Ie.getComputedStyle||function(){return{}},_=function(e){var t=function(t,n){n=0===arguments.length||!!n;var o=t.parentNode,a=e(o,null),r=parseInt(a.borderTopWidth,10)||0,i=parseInt(a.borderLeftWidth,10)||0,s=t.offsetTop-o.offsetTop<o.scrollTop,l=t.offsetTop-o.offsetTop+t.clientHeight-r>o.scrollTop+o.clientHeight,c=t.offsetLeft-o.offsetLeft<o.scrollLeft,u=t.offsetLeft-o.offsetLeft+t.clientWidth-i>o.scrollLeft+o.clientWidth,d=s&&!l;(s||l)&&n&&(o.scrollTop=t.offsetTop-o.offsetTop-o.clientHeight/2-r+t.clientHeight/2),(c||u)&&n&&(o.scrollLeft=t.offsetLeft-o.offsetLeft-o.clientWidth/2-i+t.clientWidth/2),(s||l||c||u)&&!n&&t.scrollIntoView(d)};return function(e){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!0):t(e,!0)}}(S),A=function(){var e=function(e){return e},t=Date.now||function(){return(new Date).getTime()};return function(n,o,a){function r(){var e=(t()-i)/n;e>=1&&(e=1),a(o(e)),e<1&&requestAnimationFrame(r)}a||(a=o,o=e);var i=t();r()}}(),w=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},P=function(e,t,n){return function(o){var a,r,i=this,s=i.children,l=i.offsetWidth,c=i.offsetHeight,u=i.scrollTop+o*i.offsetTop*2,d=i.scrollLeft+o*i.offsetLeft*2,p=-o+1?0:s.length-1,f=s.length,m=i.scrollLeft,v=o*l+d,g=i.scrollTop,y=o*c+u;for(o<0&&d<=0?a=i.scrollWidth-l:o>0&&m+l===i.scrollWidth&&(a=-i.scrollLeft);p<f&&p>=0;p+=-o){var h=s[p];!r&&(h.offsetTop-y)*o>0?(y=h.offsetTop-parseInt(n(h,null).marginTop||0,10),r=y-g):!a&&(h.offsetLeft-v)*o<=0&&(v=h.offsetLeft-parseInt(n(h,null).marginLeft||0,10),a=v-m)}a&&e(300,t,function(e){i.scrollLeft=m+e*a}),r&&e(300,t,function(e){i.scrollTop=g+e*r})}}(A,w,S),D=function(e,t,n,o){function a(t){var n=t.parentNode,o=0,a=t.scrollWidth-t.offsetWidth,r=t.scrollHeight-t.offsetHeight,i=a*a<4&&r*r<4;t.scrollLeft?(o=t.scrollLeft-t.offsetLeft,i=Math.abs(t.scrollLeft+t.offsetWidth-t.scrollWidth)<1):t.scrollTop&&(o=t.scrollTop-t.offsetTop,i=Math.abs(t.scrollTop+t.offsetHeight-t.scrollHeight)<1);var s=e(n).removeClass("vms-scroll-start vms-scroll-end vms-scroll-middle");o<=0&&s.addClass("vms-scroll-start"),i&&s.addClass("vms-scroll-end"),!i&&o&&s.addClass("vms-scroll-middle")}return e(Ne).on("click",function(e){var t,n,r=e.target;if(n=r.className&&r.className.match&&r.className.match(/vms-list-(prev|next)/),"string"==typeof r.className&&n){t=n,e.preventDefault();var i=r.parentNode.querySelector(".vms-list");o.call(i,"next"===t[1]?1:-1),setTimeout(function(){a(i)},1e3)}}),function(t){var n=t.querySelector(".vms-list");a(n),e(n).on("scroll",function(){a(n)})}}(E,N,_,P),O=function(e){var t,n=e.domain||"video.news.com.au",o={};if(t="/content/v2/",o.pageSize=e.count||20,o.offset=0,e.category?(e.category=e.category.replace(/(^\/+|\/+$)/,""),e.category=e.category.replace(/\//g,"\\/"),e.category=e.category.replace(/ /g,"*")):e.category+="all",e.playlistInternal?t=t+"collection/"+e.playlistInternal:e.playlist?t+="origin:video_integrator."+e.playlist:e.popular?(o.query="contentType:VIDEO%20AND%20categories.value:\\/video\\/"+n+"\\/collection\\/popular-content\\/"+e.category+"\\/"+e.popular+"*  AND origin:OMNITURE",o.includeRelated=!0,o.includeBodies=!1,o.maxRelated=e.count,delete o.pageSize):o.query="contentType:VIDEO%20AND%20categories.value:"+("\\/video\\/"+n+"\\/"+e.category).toLowerCase()+"*",e.categoryFullString){var a=encodeURI('"'+e.categoryFullString+'"');o.query="contentType:VIDEO%20AND%20categories.value:"+a}return e.site&&(o.site=e.site),{path:t,qs:o}},j=function(e,t,n,o,a,r,i){return function(s,l,c){var u=function(e,t,n,o){e.addEventListener("click",function(e){e.preventDefault();var a=videojs.players[n];a&&a.trigger({type:"playlistItemClick",options:t,el:o})})},d=function(e,i){if(!e.length)return console.error("vms playlist has no results to display",i),!1;var l,d=t(o,{}),p=d.querySelector(".vms-list");l=t(n,{}),l.firstChild.appendChild(d),i.appendChild(l),r.call(this,i);for(var f,m,v=[],g=0;g<e.length;g++)"VIDEO"===e[g].contentType&&v.push(e[g]);for(var g=0;g<v.length;g++){var y=v[g],h=t(a,y);if(0===g){m=y.ooyalaId,f=h.firstChild.cloneNode(!0),f.className=f.className.replace("vms-list-item","")+" vms vms-playlist",s.disable_play_all&&(f.className+=" vms-disable-play-all");var b=h.firstChild.querySelector(".poster");b.className+=" theme-border-color theme-background-color"}y.playlistItemEl=h.firstChild,u(h.firstChild,y,m,f),v[g]=y,p.appendChild(h)}var C=Ne.createElement("div");C.appendChild(f),i.insertBefore(C,i.firstChild);var I=Ie.vmsPlaylist||{};I[m]={el:f,videoItems:v},Ie.vmsPlaylist=I,c(m)}.bind(this),p=i(s);e(p.path,p.qs,d,l)}}(g,y,b,C,I,D,O),L=function(e,t){return{createPlaylist:function(n,o){var a=n.getAttribute("data-vms-playlist"),r={};return!(!a&&n.className.indexOf("vms-playlist-loaded")>-1)&&(n.className+=" vms-playlist-loaded",r=e(a),void t(r,n,o))}}}(d,j),x=function(e){return e instanceof Array},q=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},M=function(e){return"[object Object]"===Object.prototype.toString.call(e)},R=function(e,t,n){return function(o,a){function r(i){if(!e(i))return void r(Array.prototype.slice.call(arguments,0));for(var s,l=0;l<i.length;l++){var c=i[l];"function"==typeof c?c(r):n(c)&&c.embedCode?a(c):t(c)?(s=n(i[l+1])?i[++l]:{},s.embedCode=c,a(s)):e(c)?r(c):console.error(o+"[]; Expects a DOM object, Function or Array",c)}}Ie[o]&&r(Ie[o]),Ie[o]=Ie[o]||[],Ie[o].push=function(){r(Array.prototype.slice.call(arguments,0))}}}(x,q,M),k=function(e,t){function n(e){var t=[];for(e&&e.length>0?t=e:t.push("News");t.length>4;)t.pop();return t}function o(e,o){e=e||{},e.ap=e.isAutoplayable?"on":"off",delete e.isAutoplayable;for(var a=n(o),r=0;r<a.length;r++)e["vsec"+Number(r+1)]=a[r];e.pos=1;var i=videojs.mergeOptions(e.advancedTargeting);if(i){delete e.advancedTargeting,i.ksgmnt&&(i.ksgmnt=i.ksgmnt.toString()),delete i.kw;for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return encodeURIComponent(t(e))}function a(n){var a=Ie.encodeURIComponent(Ie.location.href),r=Ie.utag_data.net_pvid||"",i={gdfp_req:1,impl:"s",output:e.adOutputType,unviewed_position_start:1,url:a,correlator:"[timestamp]",hl:"en",cmsid:e.adcmsid,vid:n.embedCode,iu:n.iu,sz:n.size||"450x50",description_url:a,cust_params:o(n.custParams,n.categories),ad_rule:1,pvid:r},s="/adx";if("ads"===n.calltype){var l="427x240";n.isLongform&&(l="640x360"),i=videojs.mergeOptions(i,{env:"vp",sz:l}),s="/ads"}var c="http://pubads.g.doubleclick.net/gampad"+s+"?"+t(i);return c}return function(e){return a(e)}}(s,f),H=function(e){var t,n=Ne.querySelectorAll("body.story, body.article, #articlecontainer, #articlestory, #article-comments");return n.length>0?t="single player":(n=e.className.match(/archive/i),n?t="hub player":(n=Ne.querySelectorAll(".vms-standalone"),t=n.length?"embed":"other")),t},B=function(){var e=function(){var e=Ne.querySelector("meta[name=keywords]"),t=e&&e.content||"";return t};return e()}(),V=function(e,t,n,o){return function(a,r,i,s,l,c,u){if(!Ie.ads_api)return console.error("Video Player: No ads api defined yet. Did we load up too fast?"),!1;var d=t({categories:s,iu:Ie.ads_api&&Ie.ads_api.uname||"",embedCode:a,calltype:"ads",isLongform:r,custParams:{isAutoplayable:i,vsite:e.domain,prod:"video",kw:o,pltype:n(l),advancedTargeting:Ie.ads_api&&Ie.ads_api.targeting||{},ph:c.height(),pw:c.width(),plo:c.playOrder||"",source:u}});return d}}(s,k,H,B),U=function(){Ie._ima3queue=Ie._ima3queue||[];var e=function(t){console.log("processing ima3 queue",t.player.id()),t.callback(),t.player.ima3.ready(function(){setTimeout(function(){Ie._ima3queue.splice(0,1),Ie._ima3queue.length>0?e(Ie._ima3queue[0]):console.log("finished processing ima3 queue")},0)})},t=function(t,n){console.log("adding player to ima3 queue",t.id()),Ie._ima3queue.push({player:t,callback:n}),1===Ie._ima3queue.length&&e(Ie._ima3queue[0])};return{addToQueue:t}},F=function(e,t,n,o){var a=n||1e3,r=o||10,i=!1;if(e())return t(),i=!0,!1;var s=setInterval(function(){if(0===r&&e())clearInterval(s);else{if(--r,!e()||i)return;clearInterval(s),t(),i=!0}},a)},W=function(e,t,n,o){return function(o,a,r){var i=n(),s=function(n,s,l,c){var u=t(n,s,l,c,a,o,r.source),d={serverUrl:u,adTechOrder:["html5","flash"],vpaidMode:"ENABLED",hardTimeouts:!1,prerollTimeout:e.prerollTimeout,loadingSpinner:!0,requestMode:o.ima3InitSettingsRequestMode||"onload",adSwf:"//players.brightcove.net/videojs-ima3/2/videojs.ima3.swf",debug:!1};r.isLongform&&(d.requestMode=o.ima3InitSettingsRequestMode||"onplay"),e.debug&&(d.debug=!0,videojs.log("adUrl",o.id(),u)),i.addToQueue(o,function(){o.ima3(d)})},l=Ne.querySelector("body").className.indexOf("video")>-1,c=!l&&r.autoplay,u=r.bcCategories,d=u||r.categories;s(r.embedCode,r.isLongform,c,d)}}(s,V,U,F),G=function(e){var t="-",n=/^\d+$/,o=e.indexOf(t)>0,a=e.split(t),r=null,i=null,s=null;return o&&2===a.length&&n.test(a[0])&&n.test(a[1])?(r=a[0],i=a[1]):s=e,{accountId:r,videoId:i,ref:s}},z=function(e){return function(t,n,o){var a=n.el,r=n.embedCode||t.getEmbedCode(),i=function(e){var t=a.querySelector(".module-content .right-floater"),n=a.querySelector(".module-content .description"),o=Ne.createElement("div");if(!n)return!1;Ie.videojs.addClass(a,"vms-longform");var r=Ne.createElement("div");r.className="featured",r.innerHTML="Featured Video",a.insertBefore(r,a.firstChild),t&&t.parentNode.removeChild(t),o.className="right-floater",o.innerHTML='   <div class="subsource-'+e+'"></div>   <div class="more-video">       <a href="/video">More videos</a>   </div>',n.parentNode.insertBefore(o,n)},s=function(){var e=a.querySelector(".module-content .right-floater"),t=a.querySelector(".featured");e&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t)),Ie.videojs.removeClass(a,"vms-longform")},l=function(){var e={code:"ERROR_EMBED_NOT_ALLOWED",headline:'You can view this player on <a target="_blank" href="//'+o+'.com.au/video">'+o+".com.au</a>."};t.on("loadstart",function(){t.bigPlayButton.hide(),t.error(e)})},c=e(r);t.catalog.getVideo(c.ref?"ref:"+c.ref:c.videoId,function(e,n){if(e)return t.error({code:e.status,headline:e.statusText,message:e.statusText}),!1;var o=n.custom_fields?n.custom_fields.ad_control:"None",a=location.search.indexOf("ads=disable")>0,r="Sponsored Content"===o||"Sensitive Content"===o||a,c=r?"ondemand":"onload";if(t.ima3&&t.ima3.settings?t.ima3.settings.requestMode=c:t.ima3InitSettingsRequestMode=c,n&&n.sub_provider){var u=n.sub_provider.toLowerCase();t.isEmbedded?l():i(u)}else s()})}}(G),K=function(e){return function(t,n,o,a){var r=n.querySelector(".heading");r&&(r.innerHTML=o.title+'<span class="time">'+Ie.videojs.formatTime(t.getCapiDuration())+"</span>");var i=o.description;"undefined"!==i&&"null"!==i||(i="");var s=n.querySelector(".description p");s&&(s.innerHTML=i);var l=n.querySelector(".info .date");l&&(l.innerHTML=a.date),e(t,{el:n,options:{embedCode:a.ooyalaId}})}}(z),Q=function(){function e(e){if(0!==e.indexOf("category_"))return null;var t=e.split("_"),n=t[t.length-1],o=n.length>0&&!isNaN(n);return o?parseInt(n):null}function t(t){var n=[];for(var o in t)if(t.hasOwnProperty(o)){var a=e(o);null!==a&&n.push({index:a,val:t[o]})}return n.sort(function(e,t){return e.index-t.index}),n}function n(e,t){var n=t.trim();return n.length>0&&e.indexOf(n)<0&&e.push(n),e}return function(e){return t(e).reduce(function(e,t){return t.val.split("/").forEach(n.bind(null,e)),e},[])}}(),J=function(e,t,n,o){return function(a,r){a.on("upNextPlaylistItemClick",function(i){function s(e){for(var t,n=[],o=0;o<e.length;++o)e[o]!==Se&&(t={},t.time=e[o],n.push(t));return n}var l,c=!1;try{l=i.metadata&&JSON.parse(i.metadata)}catch(e){return!1}if(!l)return!1;if(a.playOrder++,a.trigger({type:"preUpNextPlaylistItemClick"}),a.playedFromUpNextPlaylist=!0,a.startedByCountdown=i.videoWasEnded,l.image&&a.poster(l.image),l.categories)for(var u=0;u<l.categories.length;u++)l.categories[u]=l.categories[u].value.replace(/(^\/+|\/+$)/gi,"").split("/").pop();a.startedByCountdown&&(c=!0);var d=o(i.custom_fields?i.custom_fields:{}),p=d||l.categories,f=t(l.ooyalaId,l.isLongform,c,p,r,a,l.source);i.video?a.catalog.load(i.video):a.src({src:i.videoSrc,type:i.videoType}),a.ima3.settings.serverUrl=f,a.setTitle(i.title),a.setCapiDuration(l.capiDuration),l.ooyalaId&&a.setEmbedCode(l.ooyalaId),a.setAdCuePoints(l.adCuePoints);var m;a.on("loadedmetadata",function(){l.isLongForm&&(m=s(l.adCuePoints),a.adMarkers.reset(m))}),a.one("loadedmetadata",function(){a.play()}),n(a,r,i,l),a.trigger({type:"socialSharingSettings",settings:{title:i.title,embedCode:l.ooyalaId}}),a.trigger({type:"analyticsSettings",playerModel:{embedCode:l.ooyalaId,title:i.title,source:l.source,playerType:e(r),duration:l.capiDuration,categories:l.categories,playOrder:a.playOrder}});var v=function(){"content-playback"!==a.ads.state&&"content-resuming"!==a.ads.state||(a.trigger({type:"postUpNextPlaylistItemClick",currentTime:a.currentTime(),duration:a.duration(),videoWasEnded:i.videoWasEnded,index:i.index}),a.off("play",v))};a.on("play",v)})}}(H,V,K,Q),X=function(){var e=function(e,t){var n="video/mp4",o="video/flv",a="application/x-mpegURL",r="http://newsdynamicvid-vh.akamaihd.net/i/",i=/(http|https):\/\/([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}\//g,s=",.csmil/master.m3u8";if(!t)return Ie.videojs.log("Error: Missing ooyala response");var l,c=t.videoUrls&&t.videoUrls[e],u=t.apiResponse,d=u&&u.authorization_data&&u.authorization_data[e],p=[];if(!c||!d)return Ie.videojs.log("Error: Can not find video source from Ooyala");var f=function(){var e=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(e&&Ie.videojs.Hls)return!0;var t=Ne.createElement("video");if(Ie.videojs.getComponent&&!Ie.videojs.getComponent("Html5").isSupported())return!1;for(var n=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],o=0;o<n.length;o++){var a=n[o];if(/maybe|probably/i.test(t.canPlayType(a)))return!0}return!1};return c.type===o||"remote_asset"===c.delivery_type?c:c.type!==n||/\.m3u8/i.test(c.src)?{src:c.src,type:a}:Ie.videojs.IS_ANDROID&&c.type===n?c:f()||Ie.videojs.Flash.isSupported()?(d.streams.forEach(function(t){p.push(atob(t.url.data).replace(i,"").replace(e,""))}),1===p.length?c:l={src:r+e+"/,"+p.join(",")+s,type:a}):c};return Ie.videoSourceSelector=Ie.videoSourceSelector||e,e}(),Y=function(e,t,n,o){return function(e,t,a){var r=a||function(){},i=function(t,n){if(t)return e.error({code:t.status,headline:t.statusText,message:t.statusText}),r(),!1;if(n.sources){var a=n.custom_fields?n.custom_fields.ad_control:"None",i=location.search.indexOf("ads=disable")>0,s="Sponsored Content"===a||"Sensitive Content"===a||i,l=s?"ondemand":"onload";e.ima3&&e.ima3.settings?e.ima3.settings.requestMode=l:e.ima3InitSettingsRequestMode=l,e.catalog.load(n),r(o(n.custom_fields?n.custom_fields:{}))}},s=n(t);e.catalog.getVideo(s.ref?"ref:"+s.ref:s.videoId,i)}}(s,X,G,Q),Z=function(e,t,n,o,a){return function(r,i){var s=Ie.vmsPlaylist[r.id()],l=s.results,c=s.el,u=0;l||console.error("No playlist found for this player",r.id());var d=function(e){for(var t=Ne.querySelectorAll(".vms-list-item .poster"),o=e.querySelector(".poster"),a=0;a<t.length;a++)videojs.removeClass(t[a],"theme-border-color"),videojs.removeClass(t[a],"theme-background-color");videojs.addClass(o,"theme-border-color"),videojs.addClass(o,"theme-background-color"),n(e)},p=function(n,s){if(u=n.index,n.thumbnail&&r.poster(n.thumbnail),n.categories)for(var l=0;l<n.categories.length;l++)n.categories[l]=n.categories[l].replace(/(^\/+|\/+$)/gi,"").split("/").pop();d(n.playlistItemEl);var c=n.bcCategories||n.categories,p=t(n.ooyalaId,!1,!1,c,i,r,n.source);a(r,n.ooyalaId),o(r,{el:i,options:{embedCode:n.ooyalaId}}),r.setTitle(n.title),r.setCapiDuration(n.capiDuration),r.setAdCuePoints(n.adCuePoints),n.embedCode&&r.setEmbedCode(n.embedCode),r.playlistDisablePlayAll||(r.ima3.settings.serverUrl=p,r.one("loadstart",function(){r.play()}));var f=s.querySelector(".heading");f&&(f.innerHTML=n.title+'<span class="time">'+Ie.videojs.formatTime(r.getCapiDuration())+"</span>"),r.trigger({type:"socialSharingSettings",settings:{title:n.title,embedCode:n.ooyalaId}}),r.trigger({type:"analyticsSettings",playerModel:{embedCode:n.ooyalaId,title:n.title,source:n.originalSource||"",playerType:e(i),duration:n.duration,categories:n.categories}})};r.on("playlistItemClick",function(e){p(e.options,e.el),e.options.title&&r.setTitle(e.options.title),e.options.ooyalaId&&r.setEmbedCode(e.options.ooyalaId)}),r.on("ended",function(){return"content-resuming"===r.ads.state&&(!(u+1>=l.length||videojs.IS_IOS||videojs.IS_ANDROID)&&void r.trigger({type:"playlistItemClick",options:l[++u],el:c}))})}}(H,V,_,z,Y),ee=function(e,t){return function(n,o){var a=function(){var o,a=Ie.utag_data.net_site,r=Ie.utag_data.net_sec1,i="prod"===e.env?"P":"T",s="prod"===e.env?"dcr":"dcr-cert",l=Ie.nn.APPID[a][r],l=l===Se?Ie.nn.APPID[a].all:l;o=i+l,t(function(){return Ie.utag_data&&Ie.utag_data.net_site&&Ie.utag_data.net_sec1&&Ie.nn&&Ie.nn.APPID},function(){n.NielsenBC({apid:o,apn:e.nielsenConfig.SDK.apn,sfcode:s,nol_sdkDebug:"DEBUG",nsdkv:"511",type:"content"})},1e3,100)};n.on("play",function(){"content-playback"!==n.ads.state&&"content-resuming"!==n.ads.state||a()}),n.on("pause",a),n.on("ended",a)}}(s,F),te=function(e,t,n,o){return function(a,r){var i=r.el,s=r.embedCode;a.omniture({playerModel:{embedCode:s,title:r.title,source:r.source,playerType:t(i),duration:r.duration,categories:r.categories,playOrder:a.playOrder},debug:e.urlParams.debug}),a.nielsen({playerModel:r,domain:e.domain,debug:e.urlParams.debug});var l=function(){var n=e.heartbeatConfig,o=Ie.metrics.s.visitorID,l="prod"===e.env;n.APP_MEASUREMENT.VISITOR_ID=o,e.isNLM?n.APP_MEASUREMENT.RSID=l?n.REPORTINGSUITE.NLM:n.REPORTINGSUITE.NLM_DEV:n.APP_MEASUREMENT.RSID=l?n.REPORTINGSUITE.NEWS:n.REPORTINGSUITE.NEWS_DEV,n.SOURCE=r.source,a.heartbeat({config:n,debug:e.debug,playerName:"NewsCorp Brightcove Video Player",playerModel:{embedCode:s,title:r.title,source:r.source,categories:r.categories&&r.categories.join(", "),playerType:t(i)}})};n(function(){return Ie.metrics&&Ie.metrics.s&&Ie.utag_data&&Ie.utag_data.video_heartbeat&&a.heartbeat},function(){l()},1e3,100),o(a,r)}}(s,H,F,ee),ne=function(e,t){return function(n,o,a){/MSIE 9/i.test(navigator.userAgent)&&videojs.flashls({swfUrl:e.basePath+"swf/videojs-flashls.swf"}),t(n,o,a)}}(s,Y),oe=function(e,t){return function(n,o,a){var r=function(e,t){var n={};if(e){for(var o=0;o<e.length;o++){var a=e[o];a.imageType&&(n[a.imageType.toLowerCase()]=a.link)}return t&&n.source?n.source||n.hero||n.thumbnail:n.hero||n.thumbnail||n.source}};n.capi({environment:e.env,apiKey:e.apiKey[e.env]}),n.capi.fetchVideoDetails(o.embedCode,function(i){var s=o.el.className;if(i){var s=o.el.className;o.useHQThumb=/useHQThumb/.test(s),i.images&&(o.thumbnail=r(i.images,o.useHQThumb));var l=o.el.querySelector(".poster img");if(!l&&o.thumbnail&&n.poster(o.thumbnail),i.ooyalaId&&(o.embedCode=i.ooyalaId,n.setEmbedCode(i.ooyalaId)),i.originalSource&&(o.source=i.originalSource,o.isLongform=/oovvuu/i.test(i.originalSource),o.isPlaylist=/vms-playlist/.test(s),o.autoplay=!o.isLongform&&!o.isPlaylist&&!/vms-autoplay-off/.test(s)),i.categories){for(var c=0;c<i.categories.length;c++)i.categories[c]=i.categories[c].value.replace(/(^\/+|\/+$)/gi,"").split("/").pop();
o.categories=i.categories}if(i.primaryCategory&&(o.primaryCategory=i.primaryCategory),i.title){o.title=i.title,n.setTitle(i.title);var u=o.el.querySelector(".heading");u&&(u.innerHTML=i.title+'<span class="time">'+t(i.duration/1e3)+"</span>")}if(i.description){o.description=i.description;var d=o.el.querySelector(".description p");d&&(d.innerHTML=i.description)}i.duration&&(o.capiDuration=i.duration/1e3,n.setCapiDuration(o.capiDuration)),i.time&&"undefined"!=typeof i.time.cuepoints&&i.time.cuepoints.length>0&&(o.adCuePoints=i.time.cuepoints,n.setAdCuePoints(i.time.cuepoints));var p=/vms-autoplay-onload/.test(s);o.autoplayOnLoad=!!p,o.continuousPlay=!e.blockContinuousPlay;var f=/vms-continuousplay-off/.test(s);o.showReplayBtn=!!f}a(o)})}}(s,v),ae=function(e,t,n,o,a,r){return function(e,t,n){e.on("replayButtonClick",function(a){var r=o(n.embedCode,n.isLongform,!1,n.categories,t,e,n.source);e.ima3&&e.ima3.settings&&(e.ima3.settings.requestMode="ondemand"),e.ima3.adrequest(r),e.play()})}}(s,W,H,V,oe,W),re=function(e,t,n,o,a,r,i,s){function l(e){for(var t,n=[],o=0;o<e.length;++o)e[o]!==Se&&(t={},t.time=e[o],n.push(t));return n}return function(c,u){var d=u.el,p=u.embedCode,f=u.isLongform,m=Ne.querySelector("body").className.indexOf("video")>-1;i(c,p,function(i){u.bcCategories=i,t(c,d,u),c.isPlaylist?o(c,d):n(c,d),c.countdownAutoplay({autoplay:!m&&u.autoplay&&!/autoplay-off/.test(u.el.className),autoplayOnLoad:u.autoplayOnLoad}),s(c,d,u),a(c,u,e.domain),c.visibility(),!e.isMobile&&m&&c.socialsharing({title:u.title,embedCode:p,domain:e.domain,basePath:e.basePath}),c.upNextPlaylist&&c.upnextplaylist({continuousPlay:u.continuousPlay,showReplayBtn:u.showReplayBtn}),r(c,u),c.friendlyErrors(),c.progressMarker(),c.volumecontrol();var v;c.one("loadedmetadata",function(){f&&(v=l(c.getAdCuePoints()),c.adMarkersPlugin({adMarkers:v}))}),/MSIE 9/i.test(navigator.userAgent)&&c.on("play",function(){c.flexbox({width:c.width()})}),c.trigger({type:"forceVisibilityLoadCheck"}),videojs.addClass(d,"vms"),videojs.addClass(d,"vms-player"),videojs.addClass(d,"vms-ready")})}}(s,W,J,Z,z,te,ne,ae),ie=function(e){var t,n=e.el(),o=function(e,t,n){for(var o=e.parentNode,a=1;a<=n&&o.className&&!o.className.match(t);)o=o.parentNode,a++;return o},a=function(t){t&&(e.pause(),e.ima3&&e.ima3.adPlayer&&e.ima3.adPlayer.pause())};if(t=o(n,"tab-content",4),t&&t.className&&t.className.match(/tab-content/)&&Ie.$){var r=!n.parentNode.className.match(/js-active-content/);a(r),$(n).closest&&$(n).closest(".tabbed").bind("tab.change",function(){setTimeout(function(){r=!n.parentNode.className.match(/js-active-content/),a(r)})})}e.on("onHidden",function(){n.offsetHeight<=0&&n.offsetWidth<=0&&e.pause()})},se=function(e,t,n){e.upNextPlaylist&&e.on("play",function(){if(("content-playback"===e.ads.state||"content-resuming"===e.ads.state)&&!e.fetchedUpNextPlaylistVideos){var o=function(){e.fetchedUpNextPlaylistVideos=!0;var o=t.categories&&t.categories[0],a=t.embedCode,r=t.primaryCategory;e.capi.fetchRelatedVideos(e,r,o,a,n.domain,n.isNonMasthead)};setTimeout(o,5e3)}})},le=function(e){e.on("adstart",function(){var t,n=function(){var n=e.ima3&&e.ima3.currentAd,o=n&&n.remainingTime,a=n&&n.currentTime,r=n&&n.id;if("undefined"!=typeof o&&(clearInterval(t),o<=0||a<0||"VPAID"===r)){var i=e.ima3.adControlBar;i&&(i.currentTimeDisplay.hide(),i.durationDisplay.hide(),i.timeDivider.hide())}};t=setInterval(n,500)}),e.on("adend",function(){var t=e.ima3.adControlBar;t&&(t.currentTimeDisplay.show(),t.durationDisplay.show(),t.timeDivider.show())})},ce=function(e){var t,n=!1,o=!1;e.on("ads-ad-started",function(){n=!0}),e.on("ads-ad-ended",function(){n=!1}),e.on("onVisible",function(){t=a({type:"onVisible"},n)}),e.on("onScrollHidden",function(){t=a({type:"onScrollHidden"},n),e.trigger({type:"noViewPaused"})}),e.on("pageHidden",function(){t=a({type:"pageHidden"},n),e.trigger({type:"noViewPaused"})});var a=function(t,n){var a=t&&t.type;return o||"onScrollHidden"!==a&&"pageHidden"!==a?o&&"onVisible"===a&&e.paused()&&(e.play(),o=!1):e.paused()||(e.pause(),o=!0),o};return t},ue=function(e,t,n,o,a){function r(e){if(e.childNodes)for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t],o=!!n.style.width,a=!!n.style.height,r=!n.className,i="black"===n.style.backgroundColor,s=o&&a&&r&&i;s&&(n.style.display="none")}}function i(e){function t(){e.className=e.className.replace(/disable-blackbox/g,""),clearInterval(n)}var n=null;e.className=e.className+" disable-blackbox",n=setInterval(r.bind(null,e),100),setTimeout(t,1e3)}return function(r,s){var l=s.el,c="vms-playing",u="vms-paused",d=!1,p=!1;videojs.IS_IPAD||(a(r),r.on("pageHidden",function(){r.paused()||(d=!0)}),r.on("onScrollHidden",function(){r.paused()||(d=!0)}),r.on("onVisible",function(){d&&(d=!1,p||r.play())})),n(r,s,e),t(r),o(r),r.on("adsready",function(){this.ima3.adPlayer.on("ima3-complete",function(){var e=this.options_.contentPlayer;"content-playback"===e.ads.state&&e.removeClass("ima3-ad-loading")})}),r.one("firstplay",function(){videojs.removeClass(s.el,"vms-state-play"),r.autoplay(!0)}),r.on("play",function(){videojs.removeClass(l,u),videojs.addClass(l,c),e.isMobile||e.IS_IOS||"ad-playback"!==r.ads.state||r.pause(),d&&!r.paused()&&r.pause(),e.IS_IOS&&i(this.el().parentElement)}),r.on("pause",function(){videojs.removeClass(l,c),videojs.addClass(l,u)}),r.on("ended",function(){p=!0,videojs.removeClass(l,c),videojs.removeClass(l,u)}),r.one("play",function(){var e=r.bigPlayButton.el();e.parentElement&&e.parentElement.removeChild(e)}),!e.IS_IOS&&e.isMobile&&r.on(["ads-ad-started","ads-pod-started"],function(){r.pause()})}}(s,ie,se,le,ce),de=function(e,t){var n=t.querySelector(".poster img");n&&(n.attributes.src?n=n.attributes.src.value:n.attributes["data-src"]&&(n=n.attributes["data-src"].value),e.poster(n))},pe=function(e,t,n,o,a){return function(r,i){var s=i.el;r.playOrder=1,r.isPlaylist=/vms-playlist/i.test(s.className),r.abCookieValue=videojs.cookies&&videojs.cookies.getItem(e.abTestingCookieName)||"not-set",r.upNextPlaylist=!r.isPlaylist,r.playlistDisablePlayAll=/vms-disable-play-all/i.test(s.className),r.isEmbedded=/vms-standalone/i.test(s.className),r.setEmbedCode=function(e){if(e)return this.currentEmbedCode=e,this},r.getEmbedCode=function(){return this.currentEmbedCode},r.setTitle=function(e){if(e)return this.title=e,this},r.getTitle=function(){return this.title},r.setCapiDuration=function(e){if(e)return this.capiDuration=e,this},r.getCapiDuration=function(){return this.capiDuration},r.setAdCuePoints=function(e){if(e)return this.adCuePoints=e,this},r.getAdCuePoints=function(){return this.adCuePoints},o(r,i,function(e){i=e,t(r,i),n(r,i)}),a(r,s),/MSIE 9/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||(r.controlBar.fullscreenToggle.addClass("active"),r.on("ima3-ready",function(){r.ima3.adControlBar.fullscreenToggle.addClass("active")})),r.el().addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation()});var l=new RegExp(/AppleWebKit\/([\d.]+)/),c=l.exec(videojs.USER_AGENT),u=null===c?null:parseFloat(l.exec(videojs.USER_AGENT)[1]),d=new RegExp(/Chrome\/([\d.]+)/),p=d.exec(videojs.USER_AGENT),f=null===p?null:parseFloat(d.exec(videojs.USER_AGENT)[1]);videojs.IS_ANDROID_PHONE=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i.test(videojs.USER_AGENT),videojs.IS_ANDROID_TABLET=videojs.IS_ANDROID&&!videojs.IS_ANDROID_PHONE,videojs.IS_ANDROID_NATIVE_BROWSER=videojs.IS_ANDROID&&null!==u&&u<537||null!==f&&f<37}}(s,re,ue,oe,de),fe=function(e,t,n){var o,a=0,r=Ne.getElementsByTagName("script")[0].parentNode,i=function(){a++||(n&&n(),r.removeChild(o))};t&&(e=s.basePath+e),o=Ne.createElement("script"),o.src=e,o.onload=i,o.onerror=i,o.async=!0,o.onreadystatechange=function(){/loaded|complete/i.test(this.readyState)&&i()},r.insertBefore(o,r.firstChild)},me=function(e){for(var t=0;t<Ne.styleSheets.length;t++)if(Ne.styleSheets[t].href===e)return;var n=Ne.createElement("link");n.rel="stylesheet",n.href=e,n.media="only x";var o=Ne.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),setTimeout(function(){n.media="all"},0)},ve=function(e,t,n){return function(o){n(e.playerCss),t(e.playerData.bcScript,!1,function(){t("//players.brightcove.net/videojs-ima3/2.19.1/videojs.ima3.min.js",!1,function(){t(e.nielsenConfig.SDK.jsPath,!1,function(){t(e.heartbeatConfig.jsPath,!1,function(){t("videojs.plugins.min.js",!0,function(){o()})})})})})}}(s,fe,me),ge=function(e,t){return function(t,n,o,a,r,i){var s,l,c,u,d,p;for(d=n;Ne.getElementById("elemId");)d+="_"+Math.round(100*Math.random())+1;if(t)p=t instanceof HTMLElement?t:Ne.querySelector(t);else{var f=0;for(p=Ne.querySelectorAll('[vms-embedcode="'+n+'"]:not(.vms-ready)');p[f]&&p[f].querySelector("video")&&f<p.length;)f++;p=p[f]}if("boolean"==typeof o&&o===!1&&(p.className+=" vms-autoplay-off"),"boolean"==typeof i&&i===!1&&(p.className+=" vms-continuousplay-off"),"boolean"==typeof a&&a===!0&&(p.className+=" useHQThumb"),"boolean"==typeof r&&r===!0&&(p.className+=" vms-autoplay-onload"),!p)return{videoEl:Se,wrapperEl:Se,id:d};s=Ne.createElement("div"),s.className="videoWrapper",l=Ne.createElement("div"),l.className="vms-controls",l.innerHTML='<div class="vms-center">   <a class="vms-btn-loading"></a></div>';var m=Ne.createElement("video");m.setAttribute("id",d),m.setAttribute("class","video-js"),m.setAttribute("data-account",e.playerData.accountId),m.setAttribute("data-player",e.playerData.playerId),m.setAttribute("data-embed","default"),m.setAttribute("controls","true"),m.setAttribute("preload","none"),s.insertBefore(m,s.firstChild);var v=p.querySelector(".description");v||(u=Ne.createElement("div"),u.className="module-content",u.innerHTML='<div class="description"><p></p></div>',p.insertBefore(u,p.firstChild));var g=p.querySelector(".heading");return g||(c=Ne.createElement("div"),c.className="module-header vms-header",c.innerHTML='<h3 class="heading"><span class="time"></span></h3>',p.insertBefore(c,p.firstChild)),p.insertBefore(l,p.firstChild),p.insertBefore(s,p.firstChild),{videoEl:m,wrapperEl:p,id:d}}}(s,G),ye=function(e,t,n){return function(){Ie._vms_queue=Ie._vms_queue||[];var o=function(t,n){console.log("post processing video to queue",t.embedCode);var o,r=n.id,i=Ie.videojs.players[r];e(i,{el:n.wrapperEl,embedCode:t.embedCode});var s=function(){return!!i._waitingToProcess&&(delete i._queueProcessed,clearTimeout(o),t.callback&&t.callback(i),Ie._vms_queue.splice(0,1),void(Ie._vms_queue.length>0?a(Ie._vms_queue[0]):console.log("finished processing queue")))};i._waitingToProcess=!0,i.one("error",s),i.one("loadstart",s),o=setTimeout(s,3e3)},a=function(e){console.log("processing video to queue",e.embedCode);var a=n(e.target,e.embedCode,e.autoplay,e.useHQThumb,e.autoplayOnLoad,e.continuousPlay);return a.videoEl?void(Ie._bcLoaded?(Ie.bc(a.videoEl),o(e,a)):t(function(){Ie._bcLoaded=!0,o(e,a)})):console.error("Failed to initialise video ("+e.embedCode+") - check if embedCode or element is defined.")},r=function(e){Ie._vms_queue.push(e),console.log("video added to queue",e.embedCode),1===Ie._vms_queue.length&&a(Ie._vms_queue[0])};return{addVideoToQueue:r}}}(pe,ve,ge),he=function(e,t,n,o,a,r){return{init:function(){Ie._vms=Ie._vms||[];var i=function(){for(var e=Ne.querySelectorAll("[vms-embedcode]:not(.vms-ready):not(.vms-list-item)"),t=0;t<e.length;t++){var n=e[t];Ie._vms.push({embedCode:n.getAttribute("vms-embedcode")})}},s=function(){for(var e=Ne.querySelectorAll(".vms-container:not(.vms-playlist-loaded)"),t=function(e){Ie._vms.push({embedCode:e})},o=0;o<e.length;o++){var a=e[o];return void n.createPlaylist(a,t)}},l=function(){var n=Ne.querySelectorAll(".vcms");if(n.length)for(var o=function(n){e(n,function(e){t(n),Ie._vms.push({embedCode:e})})},a=0;a<n.length;a++)o(n[a])},c=function(){l(),i(),s()},u=a();o("_vms",function(e){u.addVideoToQueue(e)}),Ie.vmsInit=c,c(),Ne.querySelector(".vms-playlist-module")&&r("hub.js",!0)}}}(c,u,L,R,ye,fe),be=function(){if(function(){var e=function(){};Ie.console||(Ie.console={log:e,info:e,warn:e,debug:e,error:e})}(),!Ie.atob){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Ie.atob=function(t){for(var n,o,a=String(t).replace(/=+$/,""),r=0,i=0,s="";o=a.charAt(i++);~o&&(n=r%4?64*n+o:o,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)o=e.indexOf(o);return s}}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on non-object");var r=[];for(var i in a)e.call(a,i)&&r.push(i);if(t)for(var s=0;s<o;s++)e.call(a,n[s])&&r.push(n[s]);return r}}()),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,o=function(){},a=function(){return n.apply(this instanceof o?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,a.prototype=new o,a}),function(e,t){function n(t,n){var o=this;return o.attachEvent("on"+t,function(t){var a=t||e.event;a.preventDefault=a.preventDefault||function(){a.returnValue=!1},a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0},n.call(o,a)})}e.addEventListener||(t.addEventListener=n,e.addEventListener=n,"Element"in e&&(e.Element.prototype.addEventListener=n))}(Ie,Ne),Ne.createElement("video"),Array.prototype.map||(Array.prototype.map=function(e,t){var n,o,a;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(t&&(n=t),o=new Array(i),a=0;a<i;){var s,l;a in r&&(s=r[a],l=e.call(n,s,a,r),o[a]=l),a++}return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!Ie.requestAnimationFrame;++n)Ie.requestAnimationFrame=Ie[t[n]+"RequestAnimationFrame"],Ie.cancelAnimationFrame=Ie[t[n]+"CancelAnimationFrame"]||Ie[t[n]+"CancelRequestAnimationFrame"];Ie.requestAnimationFrame||(Ie.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),a=Math.max(0,16-(o-e)),r=Ie.setTimeout(function(){t(o+a)},a);return e=o+a,r}),Ie.cancelAnimationFrame||(Ie.cancelAnimationFrame=function(e){clearTimeout(e)})}()}(),function(e){function t(){clearInterval(a),clearTimeout(r),e.init()}function n(){Ie.ads_api&&Ie.ads_api.uname&&t()}var o=1e3,a=null,r=null;a=setInterval(n,o/2),r=setTimeout(t,15*o)}(he),Ce=Se}(window,document,"__BUILD_VERSION__","player.js")}();